<div class="container">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">My Cart</h3>
    </div>
    <div class="panel-body panel-order-total">
      <b>Order Total: </b>{{ orderTotal | currency }} &nbsp;
      <button class="btn btn-success" ui-sref="checkout">Checkout <span class="glyphicon glyphicon-play"></span></button>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th></th>
          <th>Product</th>
          <th>Price (each)</th>
          <th>Quantity</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="item in cart">
          <td>
            <a ui-sref="product({ productId: item.productId })">
              <img ng-src="{{ item.product.pictureUrl }}" style="height: 100px"></img>
            </a>
          </td>
          <td>
            <a ui-sref="product({ productId: item.productId })">
              <b>{{ item.product.name }}</b>
            </a><br>
            {{ item.product.category }}
          </td>
          <td>{{ item.dollar_unitPrice | currency }}</td>
          <td>
            <form name="updateForm" class="form-inline">
              <div class="input-group">
                <input class="form-control input-sm" ng-value="{{ item.quantity }}" ng-model="qty">
                <span class="input-group-btn">
                  <button class="btn btn-default btn-sm" ng-click="updateQuantity(item.product.id, item.quantity+1)">+</button>
                  <button class="btn btn-default btn-sm" ng-click="updateQuantity(item.product.id, item.quantity-1)">-</button>
                  <button class="btn btn-default btn-sm" ng-click="updateQuantity(item.product.id, qty)">Update</button>
                  <button class="btn btn-default btn-sm" ng-click="removeFromCart(item.product.id)">Remove</button>
                </span>
              </div>
            </form>
            <br>
          </td>
          <td>{{ item.subtotal | currency }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
